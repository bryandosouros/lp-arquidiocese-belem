<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√∫ria Digital - Painel Administrativo</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Painel administrativo da Arquidiocese de Bel√©m do Par√° - Gerenciamento de conte√∫do e sistema CMS.">
    <meta name="robots" content="noindex, nofollow">
    <meta name="author" content="Arquidiocese de Bel√©m do Par√°">
    
    <!-- Admin Security Headers -->
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Painel administrativo da Arquidiocese de Bel√©m do Par√° - Gerenciamento de conte√∫do e sistema CMS.">
    <meta name="theme-color" content="#1a365d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="C√∫ria Digital">
    <meta name="msapplication-TileColor" content="#1a365d">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Icons -->
    <link rel="icon" type="image/png" href="images/logo-arquidiocese-belem.png">
    <link rel="apple-touch-icon" href="images/icons/icon-192x192.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link href="/css/output.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="font-montserrat bg-gray-50 dark:bg-gray-900">
    <!-- Header da C√∫ria -->
    <header class="bg-gradient-to-r from-blue-900 to-blue-800 text-white shadow-lg border-b-4 border-yellow-400">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <button class="lg:hidden text-white hover:bg-blue-700 p-2 rounded-lg transition-colors" id="mobile-menu-toggle">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                    <img src="images/logo-arquidiocese-belem.png" alt="Logo" class="w-12 h-12 rounded-full border-2 border-yellow-400 p-1 bg-white object-contain">
                    <div>
                        <h1 class="text-xl font-bold">C√∫ria Digital</h1>
                        <p class="text-sm opacity-90">Painel Administrativo da Arquidiocese</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-4">
                    <!-- Dark Mode Toggle -->
                    <button id="dark-mode-toggle" class="p-2 rounded-lg hover:bg-blue-700 transition-colors duration-200" title="Alternar modo escuro">
                        <i class="fas fa-moon text-lg"></i>
                    </button>
                    
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-blue-700 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-white"></i>
                        </div>
                        <div class="hidden md:block">
                            <span class="block font-medium" id="user-name">Carregando...</span>
                            <span class="text-sm opacity-75">Administrador</span>
                        </div>
                    </div>
                    <button class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class="hidden md:inline">Sair</span>
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <div class="flex">
        <!-- Sidebar de Navega√ß√£o -->
        <aside class="w-64 bg-white dark:bg-gray-800 shadow-lg h-screen sticky top-0 hidden lg:block">
            <nav class="p-6">
                <ul class="space-y-2">
                    <li>
                        <a href="#dashboard" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors active" data-section="dashboard">
                            <i class="fas fa-chart-line text-blue-600"></i>
                            <span>Painel Geral</span>
                        </a>
                    </li>
                    <li>
                        <a href="#posts" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="posts">
                            <i class="fas fa-file-alt text-green-600"></i>
                            <span>Decretos & Not√≠cias</span>
                        </a>
                    </li>
                    <li>
                        <a href="#media" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="media">
                            <i class="fas fa-images text-purple-600"></i>
                            <span>Biblioteca de M√≠dia</span>
                        </a>
                    </li>
                    <li>
                        <a href="#pages" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="pages">
                            <i class="fas fa-file text-indigo-600"></i>
                            <span>P√°ginas Institucionais</span>
                        </a>
                    </li>
                    <li>
                        <a href="#settings" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="settings">
                            <i class="fas fa-cog text-gray-600"></i>
                            <span>Configura√ß√µes</span>
                        </a>
                    </li>
                    <li>
                        <a href="#engagement" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="engagement">
                            <i class="fas fa-heart text-red-600"></i>
                            <span>Engajamento</span>
                        </a>
                    </li>
                    <li>
                        <a href="#comments" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="comments">
                            <i class="fas fa-comments text-orange-600"></i>
                            <span>Coment√°rios</span>
                        </a>
                    </li>
                            <span class="nav-icon">üó®Ô∏è</span>
                            <span class="nav-text">Coment√°rios</span>
                        </a>
                    </li>
                    <li>
                        <a href="#newsletter" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="newsletter">
                            <i class="fas fa-envelope text-blue-600"></i>
                            <span>Newsletter</span>
                        </a>
                    </li>
                    <li>
                        <a href="#notifications" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="notifications">
                            <i class="fas fa-bell text-yellow-600"></i>
                            <span>Notifica√ß√µes</span>
                        </a>
                    </li>
                    <li>
                        <a href="#users" class="nav-link flex items-center gap-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 rounded-lg transition-colors" data-section="users">
                            <i class="fas fa-users text-purple-600"></i>
                            <span>Gerenciar Usu√°rios</span>
                        </a>
                    </li>
                </ul>
                
                <div class="border-t border-gray-200 dark:border-gray-700 my-6"></div>
                
                <div class="space-y-2">
                    <h4 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">A√ß√µes R√°pidas</h4>
                    <button class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="new-post-btn">
                        <i class="fas fa-plus"></i>
                        <span>Novo Decreto</span>
                    </button>
                    <a href="index.html" target="_blank" class="w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors">
                        <i class="fas fa-external-link-alt"></i>
                        <span>Ver Site</span>
                    </a>
                </div>
            </nav>
        </aside>
        
        <!-- √Årea Principal de Conte√∫do -->
        <main class="flex-1 p-6 overflow-x-auto">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="admin-section active">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Painel Geral</h2>
                    <p class="text-gray-600 dark:text-gray-400">Vis√£o geral das atividades da Arquidiocese</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="flex items-center">
                            <div class="text-4xl mr-4">üìÑ</div>
                            <div>
                                <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="total-posts">0</div>
                                <div class="text-gray-600 dark:text-gray-400">Decretos Publicados</div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="flex items-center">
                            <div class="text-4xl mr-4">üìÖ</div>
                            <div>
                                <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="posts-this-month">0</div>
                                <div class="text-gray-600 dark:text-gray-400">Publica√ß√µes Este M√™s</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4">√öltimas Publica√ß√µes</h3>
                        <div class="space-y-4" id="recent-posts">
                            <div class="flex items-center justify-center py-8">
                                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"></div>
                                <p class="text-gray-600 dark:text-gray-400">Carregando publica√ß√µes recentes...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4">Calend√°rio Lit√∫rgico</h3>
                        <div class="space-y-6">
                            <div>
                                <div class="flex items-center justify-between mb-4">
                                    <div class="text-sm font-medium text-gray-900 dark:text-gray-100" id="today-date"></div>
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-green-500 rounded-full mr-2" id="liturgical-color"></div>
                                        <span class="text-sm text-gray-600 dark:text-gray-400" id="liturgical-season">Tempo Comum</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3">Leituras do Dia</h4>
                                    <div class="grid grid-cols-2 gap-3 text-xs">
                                        <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded">
                                            <span class="font-medium text-gray-700 dark:text-gray-300">1¬™ Leitura</span>
                                            <p class="text-gray-600 dark:text-gray-400 mt-1" id="first-reading">Carregando...</p>
                                        </div>
                                        <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded">
                                            <span class="font-medium text-gray-700 dark:text-gray-300">Salmo</span>
                                            <p class="text-gray-600 dark:text-gray-400 mt-1" id="psalm-reading">Carregando...</p>
                                        </div>
                                        <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded">
                                            <span class="font-medium text-gray-700 dark:text-gray-300">2¬™ Leitura</span>
                                            <p class="text-gray-600 dark:text-gray-400 mt-1" id="second-reading">-</p>
                                        </div>
                                        <div class="bg-gray-50 dark:bg-gray-700 p-2 rounded">
                                            <span class="font-medium text-gray-700 dark:text-gray-300">Evangelho</span>
                                            <p class="text-gray-600 dark:text-gray-400 mt-1" id="gospel-reading">Carregando...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3">Pr√≥ximas Celebra√ß√µes</h4>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded">
                                        <div class="text-xs font-medium text-blue-600 dark:text-blue-400">25 DEZ</div>
                                        <div class="flex-1 ml-3">
                                            <span class="text-sm text-gray-900 dark:text-gray-100">üéÑ Natal do Senhor</span>
                                            <span class="block text-xs text-gray-500 dark:text-gray-400">Solenidade</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded">
                                        <div class="text-xs font-medium text-blue-600 dark:text-blue-400">01 JAN</div>
                                        <div class="flex-1 ml-3">
                                            <span class="text-sm text-gray-900 dark:text-gray-100">üëº Santa Maria, M√£e de Deus</span>
                                            <span class="block text-xs text-gray-500 dark:text-gray-400">Solenidade</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded">
                                        <div class="text-xs font-medium text-blue-600 dark:text-blue-400">06 JAN</div>
                                        <div class="flex-1 ml-3">
                                            <span class="text-sm text-gray-900 dark:text-gray-100">‚≠ê Epifania do Senhor</span>
                                            <span class="block text-xs text-gray-500 dark:text-gray-400">Solenidade</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Posts Section -->
            <section id="posts-section" class="admin-section hidden">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Decretos & Not√≠cias</h2>
                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="create-post-btn">
                        <i class="fas fa-plus"></i>
                        <span>Novo Decreto</span>
                    </button>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6">
                        <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="category-filter">
                            <option value="">Todas as Categorias</option>
                            <option value="decretos">Decretos</option>
                            <option value="comunicados">Comunicados</option>
                            <option value="noticias">Not√≠cias</option>
                            <option value="homilias">Homilias</option>
                        </select>
                        <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="status-filter">
                            <option value="">Todos os Status</option>
                            <option value="published">Publicado</option>
                            <option value="draft">Rascunho</option>
                        </select>
                        <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="date-filter">
                            <option value="">Todas as Datas</option>
                            <option value="today">Hoje</option>
                            <option value="week">√öltima Semana</option>
                            <option value="month">√öltimo M√™s</option>
                        </select>
                        <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="priority-filter">
                            <option value="">Todas as Prioridades</option>
                            <option value="high">Alta Prioridade</option>
                            <option value="normal">Prioridade Normal</option>
                            <option value="low">Baixa Prioridade</option>
                        </select>
                        <input type="search" class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200 placeholder-gray-500" placeholder="Buscar por t√≠tulo, conte√∫do ou tags..." id="search-posts">
                    </div>
                    
                    <div class="overflow-x-auto">
                        <div id="posts-list">
                            <div class="flex items-center justify-center py-8">
                                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"></div>
                                <p class="text-gray-600 dark:text-gray-400">Carregando decretos e not√≠cias...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Engagement Section -->
            <section id="engagement-section" class="admin-section hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Engajamento Geral</h2>
                    <p class="text-gray-600 dark:text-gray-400">Vis√£o geral das intera√ß√µes e engajamento dos fi√©is</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="flex items-center">
                            <div class="text-4xl mr-4">üí¨</div>
                            <div>
                                <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="total-comments">0</div>
                                <div class="text-gray-600 dark:text-gray-400">Total de Coment√°rios</div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="flex items-center">
                            <div class="text-4xl mr-4">üìß</div>
                            <div>
                                <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="newsletter-subscribers">0</div>
                                <div class="text-gray-600 dark:text-gray-400">Inscritos Newsletter</div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="flex items-center">
                            <div class="text-4xl mr-4">üîî</div>
                            <div>
                                <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="push-subscribers">0</div>
                                <div class="text-gray-600 dark:text-gray-400">Push Notifications</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="engagement-grid">
                    <div class="engagement-widget">
                        <h3 class="widget-title">Atividade Recente</h3>
                        <div class="activity-feed" id="recent-activity">
                            <!-- Recent activity will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="engagement-widget">
                        <h3 class="widget-title">Configura√ß√µes R√°pidas</h3>
                        <div class="quick-settings">
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="comments-enabled" checked>
                                    Sistema de Coment√°rios
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="moderation-enabled" checked>
                                    Modera√ß√£o de Coment√°rios
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="newsletter-enabled" checked>
                                    Sistema de Newsletter
                                </label>
                            </div>

                        </div>
                    </div>
                </div>
            </section>

            <!-- Comments Section -->
            <section id="comments-section" class="admin-section hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Modera√ß√£o de Coment√°rios</h2>
                        <p class="text-gray-600 dark:text-gray-400">Gerenciar e moderar coment√°rios dos fi√©is</p>
                    </div>
                    <div class="flex space-x-3">
                        <button class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="refresh-comments">
                            <i class="fas fa-sync-alt"></i>
                            <span>Atualizar</span>
                        </button>
                        <button class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="bulk-approve">
                            <i class="fas fa-check"></i>
                            <span>Aprovar Selecionados</span>
                        </button>
                        <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="bulk-reject">
                            <i class="fas fa-times"></i>
                            <span>Rejeitar Selecionados</span>
                        </button>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                    <div class="flex flex-col md:flex-row gap-4 mb-6">
                        <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="comment-status-filter">
                            <option value="pending">Pendentes</option>
                            <option value="approved">Aprovados</option>
                            <option value="rejected">Rejeitados</option>
                            <option value="all">Todos</option>
                        </select>
                        <input type="search" class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200 placeholder-gray-500" placeholder="Buscar coment√°rios..." id="search-comments">
                    </div>
                    
                    <div id="comments-moderation">
                        <!-- Comments will be loaded here by comment-system.js -->
                    </div>
                </div>
            </section>

            <!-- Newsletter Section -->
            <section id="newsletter-section" class="admin-section hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Sistema de Newsletter</h2>
                        <p class="text-gray-600 dark:text-gray-400">Gerenciar campanhas e inscritos da newsletter</p>
                    </div>
                    <div class="flex space-x-3">
                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="create-campaign">
                            <i class="fas fa-envelope"></i>
                            <span>Nova Campanha</span>
                        </button>
                        <button class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="manage-subscribers">
                            <i class="fas fa-users"></i>
                            <span>Gerenciar Inscritos</span>
                        </button>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                    <div id="newsletter-dashboard">
                        <!-- Newsletter content will be loaded here by newsletter-system.js -->
                    </div>
                </div>
            </section>

            <!-- Notifications Section -->
            <section id="notifications-section" class="admin-section hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Push Notifications</h2>
                        <p class="text-gray-600 dark:text-gray-400">Enviar notifica√ß√µes push para os fi√©is</p>
                    </div>
                    <div class="flex space-x-3">
                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="send-notification">
                            <i class="fas fa-bell"></i>
                            <span>Enviar Notifica√ß√£o</span>
                        </button>
                        <button class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="notification-settings">
                            <i class="fas fa-cog"></i>
                            <span>Configura√ß√µes</span>
                        </button>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                    <div id="notifications-dashboard">
                        <!-- Notifications content will be loaded here by push-notification-manager.js -->
                    </div>
                </div>
            </section>

            <!-- Users Management Section -->
            <section id="users-section" class="admin-section hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Gerenciamento de Usu√°rios</h2>
                        <p class="text-gray-600 dark:text-gray-400">Gerenciar contas e permiss√µes de usu√°rios</p>
                    </div>
                    <div class="flex space-x-3">
                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="create-user-btn">
                            <i class="fas fa-user-plus"></i>
                            <span>Novo Usu√°rio</span>
                        </button>
                        <button class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="export-users-btn">
                            <i class="fas fa-download"></i>
                            <span>Exportar Lista</span>
                        </button>
                    </div>
                </div>

                <div class="space-y-6">
                    <!-- Filtros -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="role-filter">
                                <option value="">Todas as Fun√ß√µes</option>
                                <option value="admin">Administrador</option>
                                <option value="editor">Editor</option>
                                <option value="moderator">Moderador</option>
                                <option value="contributor">Colaborador</option>
                            </select>
                            <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="status-user-filter">
                                <option value="">Todos os Status</option>
                                <option value="active">Ativo</option>
                                <option value="inactive">Inativo</option>
                                <option value="pending">Pendente</option>
                            </select>
                            <input type="search" class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200 placeholder-gray-500" placeholder="Buscar por nome, email ou fun√ß√£o..." id="search-users">
                        </div>
                    </div>

                    <!-- Estat√≠sticas -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">üëë</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="admin-count">0</div>
                                    <div class="text-gray-600 dark:text-gray-400">Administradores</div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">‚úèÔ∏è</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="editor-count">0</div>
                                    <div class="text-gray-600 dark:text-gray-400">Editores</div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">üë•</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="total-users">0</div>
                                    <div class="text-gray-600 dark:text-gray-400">Total de Usu√°rios</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700" id="users-table">
                            <thead class="bg-gray-50 dark:bg-gray-700">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                        <input type="checkbox" id="select-all-users" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Usu√°rio</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Email</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Fun√ß√£o</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Status</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">√öltimo Acesso</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body" class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                                <tr class="odd:bg-gray-50 dark:odd:bg-gray-800">
                                    <td colspan="7" class="px-6 py-8 text-center">
                                        <div class="flex items-center justify-center">
                                            <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"></div>
                                            <p class="text-gray-600 dark:text-gray-400">Carregando usu√°rios...</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- A√ß√µes em Lote -->
                    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 hidden" id="bulk-actions">
                        <div class="flex items-center justify-between">
                            <span class="text-blue-800 dark:text-blue-300 font-medium" id="selected-count">0 usu√°rios selecionados</span>
                            <div class="flex space-x-3">
                                <button class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors" id="bulk-activate">
                                    <i class="fas fa-check mr-1"></i>
                                    Ativar
                                </button>
                                <button class="bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded text-sm transition-colors" id="bulk-deactivate">
                                    <i class="fas fa-pause mr-1"></i>
                                    Desativar
                                </button>
                                <button class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors" id="bulk-delete">
                                    <i class="fas fa-trash mr-1"></i>
                                    Excluir
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Media Library Section -->
            <section id="media-section" class="admin-section hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Biblioteca de M√≠dia</h2>
                        <p class="text-gray-600 dark:text-gray-400">Gerenciar arquivos e documentos</p>
                    </div>
                    <div class="flex space-x-3">
                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="upload-media-btn">
                            <i class="fas fa-upload"></i>
                            <span>Upload de Arquivos</span>
                        </button>
                        <button class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="create-folder-btn">
                            <i class="fas fa-folder-plus"></i>
                            <span>Nova Pasta</span>
                        </button>
                    </div>
                </div>

                <div class="space-y-6">
                    <!-- Filtros -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="media-type-filter">
                                <option value="">Todos os Tipos</option>
                                <option value="image">Imagens</option>
                                <option value="document">Documentos</option>
                                <option value="video">V√≠deos</option>
                                <option value="audio">√Åudio</option>
                            </select>
                            <select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" id="media-date-filter">
                                <option value="">Todas as Datas</option>
                                <option value="today">Hoje</option>
                                <option value="week">√öltima Semana</option>
                                <option value="month">√öltimo M√™s</option>
                                <option value="year">√öltimo Ano</option>
                            </select>
                            <input type="search" class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200 placeholder-gray-500" placeholder="Buscar arquivos..." id="search-media">
                        </div>
                    </div>

                    <!-- Estat√≠sticas -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">üñºÔ∏è</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="total-images">0</div>
                                    <div class="text-gray-600 dark:text-gray-400">Imagens</div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">üìÑ</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="total-documents">0</div>
                                    <div class="text-gray-600 dark:text-gray-400">Documentos</div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">üíæ</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="total-size">0 MB</div>
                                    <div class="text-gray-600 dark:text-gray-400">Espa√ßo Usado</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- √Årea de Upload -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-12 text-center hover:border-blue-400 transition-colors" id="upload-drop-zone">
                            <div class="text-6xl mb-4">üìÅ</div>
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2">Arraste arquivos aqui</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-4">ou clique para selecionar</p>
                            <button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">Escolher Arquivos</button>
                            <input type="file" id="file-input" multiple accept="image/*,audio/*,video/*,.pdf,.doc,.docx,.txt" class="hidden">
                        </div>
                        
                        <div class="mt-6" id="media-grid">
                            <!-- Media files will be displayed here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Pages Section -->
            <section id="pages-section" class="admin-section hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">P√°ginas Institucionais</h2>
                        <p class="text-gray-600 dark:text-gray-400">Gerenciar p√°ginas est√°ticas do site</p>
                    </div>
                    <div class="flex space-x-3">
                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="create-page-btn">
                            <i class="fas fa-file-alt"></i>
                            <span>Nova P√°gina</span>
                        </button>
                        <button class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors" id="page-templates-btn">
                            <i class="fas fa-clipboard-list"></i>
                            <span>Modelos</span>
                        </button>
                    </div>
                </div>

                <div class="space-y-6">
                    <!-- Estat√≠sticas -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">üìÑ</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="total-pages">8</div>
                                    <div class="text-gray-600 dark:text-gray-400">P√°ginas Ativas</div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">üìù</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="draft-pages">2</div>
                                    <div class="text-gray-600 dark:text-gray-400">Rascunhos</div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                            <div class="flex items-center">
                                <div class="text-4xl mr-4">üëÅÔ∏è</div>
                                <div>
                                    <div class="text-2xl font-bold text-gray-900 dark:text-gray-100" id="page-views">1.2k</div>
                                    <div class="text-gray-600 dark:text-gray-400">Visualiza√ß√µes</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lista de P√°ginas -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-900 dark:text-gray-100">Sobre a Arquidiocese</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Hist√≥ria e miss√£o da Arquidiocese de Bel√©m</p>
                                    <div class="flex items-center space-x-3 mt-2">
                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400">Publicada</span>
                                        <span class="text-gray-500 dark:text-gray-400 text-sm">Atualizada em 20/06/2024</span>
                                    </div>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors" title="Visualizar">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900/20 transition-colors" title="Configura√ß√µes">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </div>
                            </div>

                        <div class="page-item">
                            <div class="page-info">
                                <h4 class="page-title">Par√≥quias</h4>
                                <p class="page-description">Lista de par√≥quias da Arquidiocese</p>
                                <div class="page-meta">
                                    <span class="page-status published">Publicada</span>
                                    <span class="page-date">Atualizada em 18/06/2024</span>
                                </div>
                            </div>
                            <div class="page-actions">
                                <button class="btn-icon" title="Editar">‚úèÔ∏è</button>
                                <button class="btn-icon" title="Visualizar">üëÅÔ∏è</button>
                                <button class="btn-icon" title="Configura√ß√µes">‚öôÔ∏è</button>
                            </div>
                        </div>

                        <div class="page-item">
                            <div class="page-info">
                                <h4 class="page-title">Pastorais</h4>
                                <p class="page-description">Informa√ß√µes sobre as pastorais diocesanas</p>
                                <div class="page-meta">
                                    <span class="page-status draft">Rascunho</span>
                                    <span class="page-date">Criada em 15/06/2024</span>
                                </div>
                            </div>
                            <div class="page-actions">
                                <button class="btn-icon" title="Editar">‚úèÔ∏è</button>
                                <button class="btn-icon" title="Visualizar">üëÅÔ∏è</button>
                                <button class="btn-icon" title="Configura√ß√µes">‚öôÔ∏è</button>
                            </div>
                        </div>

                        <div class="page-item">
                            <div class="page-info">
                                <h4 class="page-title">Contato</h4>
                                <p class="page-description">Informa√ß√µes de contato e localiza√ß√£o</p>
                                <div class="page-meta">
                                    <span class="page-status published">Publicada</span>
                                    <span class="page-date">Atualizada em 25/06/2024</span>
                                </div>
                            </div>
                            <div class="page-actions">
                                <button class="btn-icon" title="Editar">‚úèÔ∏è</button>
                                <button class="btn-icon" title="Visualizar">üëÅÔ∏è</button>
                                <button class="btn-icon" title="Configura√ß√µes">‚öôÔ∏è</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings-section" class="admin-section">
                <div class="section-header">
                    <h2 class="section-title">Configura√ß√µes do Sistema</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" id="save-settings-btn">
                            üíæ Salvar Configura√ß√µes
                        </button>
                        <button class="btn btn-secondary" id="backup-btn">
                            üì¶ Backup
                        </button>
                    </div>
                </div>

                <div class="settings-tabs">
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="general">Geral</button>
                        <button class="tab-btn" data-tab="appearance">Apar√™ncia</button>
                        <button class="tab-btn" data-tab="notifications">Notifica√ß√µes</button>
                        <button class="tab-btn" data-tab="security">Seguran√ßa</button>
                        <button class="tab-btn" data-tab="advanced">Avan√ßado</button>
                    </div>

                    <div class="tab-content active" id="general-tab">
                        <div class="settings-group">
                            <h3>Informa√ß√µes Gerais</h3>
                            <div class="form-group">
                                <label for="site-title">T√≠tulo do Site</label>
                                <input type="text" id="site-title" class="form-input" value="Arquidiocese de Bel√©m do Par√°">
                            </div>
                            <div class="form-group">
                                <label for="site-description">Descri√ß√£o do Site</label>
                                <textarea id="site-description" class="form-textarea" rows="3">Igreja Cat√≥lica Apost√≥lica Romana - Arquidiocese de Bel√©m do Par√°</textarea>
                            </div>
                            <div class="form-group">
                                <label for="admin-email">E-mail do Administrador</label>
                                <input type="email" id="admin-email" class="form-input" value="admin@arquidiocesebelem.org.br">
                            </div>
                        </div>

                        <div class="settings-group">
                            <h3>Configura√ß√µes de Conte√∫do</h3>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked> Permitir coment√°rios nos decretos
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked> Moderar coment√°rios antes da publica√ß√£o
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked> Ativar sistema de newsletter
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="appearance-tab">
                        <div class="settings-group">
                            <h3>Tema e Cores</h3>
                            <div class="form-group">
                                <label for="primary-color">Cor Prim√°ria</label>
                                <input type="color" id="primary-color" value="#2563eb">
                            </div>
                            <div class="form-group">
                                <label for="secondary-color">Cor Secund√°ria</label>
                                <input type="color" id="secondary-color" value="#dc2626">
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="notifications-tab">
                        <div class="settings-group">
                            <h3>Notifica√ß√µes Push</h3>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked> Enviar notifica√ß√µes para novos decretos
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox"> Notificar sobre novos coment√°rios
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="security-tab">
                        <div class="settings-group">
                            <h3>Seguran√ßa</h3>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked> Autentica√ß√£o de dois fatores obrigat√≥ria
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="session-timeout">Timeout de Sess√£o (minutos)</label>
                                <input type="number" id="session-timeout" class="form-input" value="60">
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="advanced-tab">
                        <div class="settings-group">
                            <h3>Configura√ß√µes Avan√ßadas</h3>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox"> Modo de debug
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="cache-duration">Dura√ß√£o do Cache (horas)</label>
                                <input type="number" id="cache-duration" class="form-input" value="24">
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Outras sections ser√£o adicionadas posteriormente -->
        </main>
    </div>
    
    <!-- Modal para Criar/Editar Usu√°rio -->
    <div id="user-editor-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content user-editor">
            <div class="modal-header">
                <h3 class="modal-title" id="user-editor-title">Novo Usu√°rio</h3>
                <button class="modal-close" id="close-user-editor">&times;</button>
            </div>
            
            <form class="user-form" id="user-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="user-name">Nome Completo</label>
                        <input type="text" id="user-name" name="name" class="form-input" placeholder="Ex: Dom Tom√°s Balduino" required>
                    </div>
                    <div class="form-group">
                        <label for="user-email">Email</label>
                        <input type="email" id="user-email" name="email" class="form-input" placeholder="email@arquidiocesebelem.org.br" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="user-role">Fun√ß√£o</label>
                        <select id="user-role" name="role" class="form-select" required>
                            <option value="">Selecione uma fun√ß√£o</option>
                            <option value="admin">Administrador</option>
                            <option value="editor">Editor</option>
                            <option value="moderator">Moderador</option>
                            <option value="contributor">Colaborador</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="user-status">Status</label>
                        <select id="user-status" name="status" class="form-select">
                            <option value="active">Ativo</option>
                            <option value="inactive">Inativo</option>
                            <option value="pending">Pendente</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="user-password">Senha</label>
                    <div class="password-input-container">
                        <input type="password" id="user-password" name="password" class="form-input" placeholder="Digite uma senha segura">
                        <button type="button" class="password-toggle" id="toggle-password">üëÅÔ∏è</button>
                    </div>
                    <small class="form-help">Deixe em branco para manter a senha atual (apenas para edi√ß√£o)</small>
                </div>
                
                <div class="form-group">
                    <label for="user-permissions">Permiss√µes Espec√≠ficas</label>
                    <div class="permissions-grid">
                        <label class="permission-item">
                            <input type="checkbox" name="permissions" value="create_posts">
                            <span>Criar Decretos</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="permissions" value="edit_posts">
                            <span>Editar Decretos</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="permissions" value="delete_posts">
                            <span>Excluir Decretos</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="permissions" value="moderate_comments">
                            <span>Moderar Coment√°rios</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="permissions" value="manage_media">
                            <span>Gerenciar M√≠dia</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="permissions" value="manage_users">
                            <span>Gerenciar Usu√°rios</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="permissions" value="system_settings">
                            <span>Configura√ß√µes do Sistema</span>
                        </label>
                        <label class="permission-item">
                            <input type="checkbox" name="permissions" value="analytics">
                            <span>Visualizar Analytics</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="user-notes">Observa√ß√µes</label>
                    <textarea id="user-notes" name="notes" class="form-textarea" rows="3" placeholder="Informa√ß√µes adicionais sobre o usu√°rio..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancel-user-edit">Cancelar</button>
                    <button type="submit" class="btn-primary" id="save-user">
                        <span class="btn-text">Salvar Usu√°rio</span>
                        <div class="btn-loading">
                            <div class="loading-spinner"></div>
                        </div>
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Modal para Edi√ß√£o de Posts -->
    <div id="post-editor-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-auto">
            <div class="flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100" id="editor-title">Novo Decreto</h3>
                <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors" id="close-editor">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form class="p-6 space-y-6" id="post-form">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="post-title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">T√≠tulo do Decreto</label>
                        <input type="text" id="post-title" name="title" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" placeholder="Ex: Decreto sobre a organiza√ß√£o das par√≥quias..." required>
                    </div>
                    <div>
                        <label for="post-category" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Categoria</label>
                        <select id="post-category" name="category" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" required>
                            <option value="">Selecione uma categoria</option>
                            <option value="decretos">Decretos</option>
                            <option value="comunicados">Comunicados</option>
                            <option value="noticias">Not√≠cias</option>
                            <option value="homilias">Homilias</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label for="post-excerpt" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Resumo/Chamada</label>
                    <textarea id="post-excerpt" name="excerpt" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" rows="3" placeholder="Breve resumo que aparecer√° nos cards de not√≠cia..."></textarea>
                </div>
                
                <div>
                    <label for="post-content" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Conte√∫do</label>
                    <div class="border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden">
                        <div class="bg-gray-50 dark:bg-gray-700 px-4 py-2 border-b border-gray-300 dark:border-gray-600 flex items-center gap-2">
                            <button type="button" class="px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded" data-command="bold">
                                <i class="fas fa-bold"></i>
                            </button>
                            <button type="button" class="px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded" data-command="italic">
                                <i class="fas fa-italic"></i>
                            </button>
                            <button type="button" class="px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded" data-command="underline">
                                <i class="fas fa-underline"></i>
                            </button>
                            <div class="w-px h-6 bg-gray-300 dark:bg-gray-600 mx-2"></div>
                            <button type="button" class="px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded" data-command="insertUnorderedList">
                                <i class="fas fa-list-ul"></i>
                            </button>
                            <button type="button" class="px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded" data-command="insertOrderedList">
                                <i class="fas fa-list-ol"></i>
                            </button>
                        </div>
                        <div id="post-content" class="min-h-[300px] p-4 focus:outline-none dark:bg-gray-700 dark:text-gray-200" contenteditable="true" data-placeholder="Digite o conte√∫do do decreto aqui..."></div>
                    </div>
                </div>
                
                <div>
                    <label for="post-tags-input" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Tags</label>
                    <input type="text" id="post-tags-input" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" placeholder="Digite uma tag e pressione Enter...">
                    <div id="post-tags-container" class="flex flex-wrap gap-2 mt-2"></div>
                    <small class="text-gray-500 dark:text-gray-400 text-sm">Pressione Enter ou v√≠rgula para adicionar uma tag</small>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="post-status" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Status</label>
                        <select id="post-status" name="status" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200">
                            <option value="draft">Rascunho</option>
                            <option value="published">Publicar</option>
                        </select>
                    </div>
                    <div>
                        <label for="post-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Data de Publica√ß√£o</label>
                        <input type="datetime-local" id="post-date" name="publishDate" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200">
                    </div>
                </div>
                
                <div>
                    <label for="post-priority" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Prioridade</label>
                    <select id="post-priority" name="priority" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200">
                        <option value="normal">Normal</option>
                        <option value="high">Alta</option>
                        <option value="low">Baixa</option>
                    </select>
                </div>
                
                <div>
                    <label for="featured-image-url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Imagem Destacada (URL)</label>
                    <input type="url" id="featured-image-url" name="featuredImage" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" placeholder="https://exemplo.com/imagem.jpg">
                </div>
                
                <div>
                    <label for="meta-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Meta Descri√ß√£o (SEO)</label>
                    <textarea id="meta-description" name="metaDescription" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-200" rows="2" placeholder="Descri√ß√£o para motores de busca (recomendado: 150-160 caracteres)" maxlength="160"></textarea>
                    <small class="text-gray-500 dark:text-gray-400 text-sm character-count">0/160 caracteres</small>
                </div>
                
                <div class="flex justify-end gap-4 pt-6 border-t border-gray-200 dark:border-gray-700">
                    <button type="button" class="px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" id="cancel-edit">Cancelar</button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors" id="save-post">
                        <span class="btn-text">Salvar Decreto</span>
                        <div class="btn-loading hidden">
                            <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white"></div>
                        </div>
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Scripts -->
    <!-- Core Admin Scripts -->
    <script type="module" src="js/admin.js" defer></script>
    <script type="module" src="js/user-manager.js" defer></script>
    <script type="module" src="js/liturgical-calendar.js" defer></script>
    
    <!-- Site Management -->
    <script src="js/multi-site-template.js" type="module" defer></script>
    <script type="module" src="js/sitemap-generator.js" defer></script>
    <script type="module" src="js/seo-manager.js" defer></script>
    
    <!-- Analytics & Dashboard -->
    <script type="module" src="js/analytics-dashboard.js" defer></script>
    <script type="module" src="js/analytics-manager.js" defer></script>
    
    <!-- PWA Management -->
    <script src="js/advanced-pwa-controller.js" defer></script>
    <script src="js/pwa-performance-monitor.js" defer></script>
    <script type="module" src="js/pwa-manager.js" defer></script>
    
    <!-- Engagement Systems -->
    <script type="module" src="js/comment-system.js" defer></script>
    <script type="module" src="js/newsletter-system.js" defer></script>
    <script type="module" src="js/push-notification-manager.js" defer></script>
    <script type="module" src="js/notification-system.js" defer></script>
    
    <!-- Mobile UX (for admin on mobile) -->
    <script src="js/mobile-ux.js" defer></script>
    <script src="js/mobile-gestures.js" defer></script>
    <script src="js/mobile-forms.js" defer></script>
    
    <script>
        // Initialize admin-specific analytics
        document.addEventListener('DOMContentLoaded', function() {
            if (window.analyticsManager) {
                // Track admin panel access
                analyticsManager.trackEvent('page_view', {
                    page_title: 'Admin Panel - C√∫ria Digital',
                    page_location: window.location.href,
                    content_group1: 'Admin',
                    content_group2: 'Private'
                });
                
                // Setup admin-specific tracking
                setupAdminTracking();
            }
            
            // Initialize engagement systems for admin
            initializeAdminEngagement();
            
            // Initialize modal controls
            initializeModalControls();
            
            // Initialize user management
            initializeUserManagement();
            
            // Initialize liturgical calendar
            initializeLiturgicalCalendar();
            
            // Initialize mobile menu
            initializeMobileMenu();
            
            // Initialize settings tabs
            initializeSettingsTabs();
            
            // Initialize media upload
            initializeMediaUpload();
        });
        
        async function initializeAdminEngagement() {
            try {
                console.log('üöÄ Initializing admin engagement systems...');
                
                // Wait for engagement systems to be available
                await waitForEngagementSystems();
                
                // Setup admin interfaces for each system
                setupCommentSystemAdmin();
                setupNewsletterSystemAdmin();
                setupPushNotificationAdmin();
                
                // Load engagement statistics
                loadEngagementStats();
                
                console.log('‚úÖ Admin engagement systems initialized');
            } catch (error) {
                console.error('‚ùå Error initializing admin engagement systems:', error);
            }
        }
        
        function waitForEngagementSystems() {
            return new Promise((resolve) => {
                const checkSystems = () => {
                    if (window.commentSystem && window.newsletterSystem && 
                        window.pushNotificationManager) {
                        resolve();
                    } else {
                        setTimeout(checkSystems, 100);
                    }
                };
                checkSystems();
            });
        }
        
        function setupCommentSystemAdmin() {
            const commentsSection = document.getElementById('comments-moderation');
            if (commentsSection && window.commentSystem) {
                // Create admin interface for comments
                commentsSection.innerHTML = window.commentSystem.createAdminInterface();
                
                // Setup event listeners for comment moderation
                document.getElementById('refresh-comments')?.addEventListener('click', () => {
                    window.commentSystem.loadModerationStats();
                });
            }
        }
        
        function setupNewsletterSystemAdmin() {
            const newsletterDashboard = document.getElementById('newsletter-dashboard');
            if (newsletterDashboard && window.newsletterSystem) {
                // Create admin interface for newsletter
                newsletterDashboard.innerHTML = window.newsletterSystem.createAdminInterface();
            }
        }

        
        function setupPushNotificationAdmin() {
            const notificationsDashboard = document.getElementById('notifications-dashboard');
            if (notificationsDashboard && window.pushNotificationManager) {
                // Create admin interface for push notifications
                notificationsDashboard.innerHTML = window.pushNotificationManager.createAdminInterface();
                
                // Setup send notification button
                document.getElementById('send-notification')?.addEventListener('click', () => {
                    window.pushNotificationManager.openSendNotificationDialog();
                });
            }
        }
        
        async function loadEngagementStats() {
            try {
                // Load comment stats
                if (window.commentSystem) {
                    const commentStats = await window.commentSystem.getStats();
                    document.getElementById('total-comments').textContent = commentStats.totalComments || 0;
                }
                
                // Load newsletter stats
                if (window.newsletterSystem) {
                    const newsletterStats = await window.newsletterSystem.getStats();
                    document.getElementById('newsletter-subscribers').textContent = newsletterStats.totalSubscribers || 0;
                }
                
                // Load push notification stats
                if (window.pushNotificationManager) {
                    const pushStats = await window.pushNotificationManager.getStats();
                    document.getElementById('push-subscribers').textContent = pushStats.totalSubscribers || 0;
                }
                
            } catch (error) {
                console.error('Error loading engagement stats:', error);
            }
        }
        
        function setupAdminTracking() {
            // Track CMS actions
            document.addEventListener('click', function(e) {
                const target = e.target;
                
                // Track button clicks
                if (target.matches('.btn-primary, .btn-secondary, .btn-danger, .admin-btn')) {
                    const action = target.textContent.trim();
                    analyticsManager.trackEvent('admin_action', {
                        action_type: 'button_click',
                        action_name: action,
                        section: getActiveSection()
                    });
                }
                
                // Track tab switches
                if (target.matches('.nav-item, .admin-nav-item')) {
                    const tabName = target.textContent.trim();
                    analyticsManager.trackEvent('admin_navigation', {
                        tab_name: tabName,
                        navigation_type: 'tab_switch'
                    });
                }
            });
            
            // Track form submissions
            document.addEventListener('submit', function(e) {
                const form = e.target;
                const formType = form.id || form.className || 'unknown_form';
                
                analyticsManager.trackEvent('admin_form_submit', {
                    form_type: formType,
                    section: getActiveSection()
                });
            });
            
            // Track content management actions
            window.trackContentAction = function(action, contentType, contentId) {
                analyticsManager.trackEvent('content_management', {
                    action: action, // create, edit, delete, publish, schedule
                    content_type: contentType,
                    content_id: contentId || 'new',
                    timestamp: new Date().toISOString()
                });
            };
        }
        
        function getActiveSection() {
            const activeTab = document.querySelector('.nav-item.active, .admin-nav-item.active');
            return activeTab ? activeTab.textContent.trim() : 'unknown';
        }
        
        // Modal Controls
        function initializeModalControls() {
            // Post Editor Modal
            const postModal = document.getElementById('post-editor-modal');
            const newPostBtns = document.querySelectorAll('#new-post-btn, #create-post-btn');
            const closeEditorBtn = document.getElementById('close-editor');
            const cancelEditBtn = document.getElementById('cancel-edit');
            
            newPostBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    postModal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                });
            });
            
            function closePostModal() {
                postModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            closeEditorBtn.addEventListener('click', closePostModal);
            cancelEditBtn.addEventListener('click', closePostModal);
            
            postModal.addEventListener('click', (e) => {
                if (e.target === postModal) closePostModal();
            });
            
            // User Editor Modal
            const userModal = document.getElementById('user-editor-modal');
            const createUserBtn = document.getElementById('create-user-btn');
            const closeUserEditorBtn = document.getElementById('close-user-editor');
            const cancelUserEditBtn = document.getElementById('cancel-user-edit');
            
            createUserBtn.addEventListener('click', () => {
                userModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                document.getElementById('user-editor-title').textContent = 'Novo Usu√°rio';
                document.getElementById('user-form').reset();
            });
            
            function closeUserModal() {
                userModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            closeUserEditorBtn.addEventListener('click', closeUserModal);
            cancelUserEditBtn.addEventListener('click', closeUserModal);
            
            userModal.addEventListener('click', (e) => {
                if (e.target === userModal) closeUserModal();
            });
            
            // Password toggle
            const passwordToggle = document.getElementById('toggle-password');
            const passwordInput = document.getElementById('user-password');
            
            passwordToggle.addEventListener('click', () => {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                passwordToggle.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
            });
        }
        
        // User Management
        function initializeUserManagement() {
            // Load initial user data
            loadUsers();
            
            // Search functionality
            const searchInput = document.getElementById('search-users');
            searchInput.addEventListener('input', debounce(filterUsers, 300));
            
            // Filter functionality
            const roleFilter = document.getElementById('role-filter');
            const statusFilter = document.getElementById('status-user-filter');
            
            roleFilter.addEventListener('change', filterUsers);
            statusFilter.addEventListener('change', filterUsers);
            
            // Select all functionality
            const selectAllCheckbox = document.getElementById('select-all-users');
            selectAllCheckbox.addEventListener('change', toggleAllUsers);
            
            // Form submission
            const userForm = document.getElementById('user-form');
            userForm.addEventListener('submit', handleUserFormSubmit);
        }
        
        async function loadUsers() {
            // Simulate loading users - replace with Firebase integration
            const mockUsers = [
                {
                    id: '1',
                    name: 'Dom Alberto Taveira Corr√™a',
                    email: 'arcebispo@arquidiocesebelem.org.br',
                    role: 'admin',
                    status: 'active',
                    lastAccess: '2024-06-26T10:30:00'
                },
                {
                    id: '2',
                    name: 'Pe. Jo√£o Silva',
                    email: 'joao.silva@arquidiocesebelem.org.br',
                    role: 'editor',
                    status: 'active',
                    lastAccess: '2024-06-25T15:45:00'
                },
                {
                    id: '3',
                    name: 'Ir. Maria Santos',
                    email: 'maria.santos@arquidiocesebelem.org.br',
                    role: 'contributor',
                    status: 'pending',
                    lastAccess: null
                }
            ];
            
            renderUsers(mockUsers);
            updateUserStats(mockUsers);
        }
        
        function renderUsers(users) {
            const tbody = document.getElementById('users-table-body');
            tbody.innerHTML = '';
            
            users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <input type="checkbox" value="${user.id}" class="user-checkbox">
                    </td>
                    <td>
                        <div class="user-info">
                            <div class="user-avatar">${user.name.charAt(0)}</div>
                            <div class="user-details">
                                <div class="user-name">${user.name}</div>
                            </div>
                        </div>
                    </td>
                    <td>${user.email}</td>
                    <td><span class="user-role ${user.role}">${translateRole(user.role)}</span></td>
                    <td><span class="user-status ${user.status}">${translateStatus(user.status)}</span></td>
                    <td>${user.lastAccess ? formatDate(user.lastAccess) : 'Nunca'}</td>
                    <td>
                        <div class="user-actions">
                            <button class="user-action-btn edit" onclick="editUser('${user.id}')">‚úèÔ∏è</button>
                            <button class="user-action-btn delete" onclick="deleteUser('${user.id}')">üóëÔ∏è</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
            
            // Add event listeners to checkboxes
            document.querySelectorAll('.user-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', updateBulkActions);
            });
        }
        
        function updateUserStats(users) {
            const adminCount = users.filter(u => u.role === 'admin').length;
            const editorCount = users.filter(u => u.role === 'editor').length;
            const totalUsers = users.length;
            
            document.getElementById('admin-count').textContent = adminCount;
            document.getElementById('editor-count').textContent = editorCount;
            document.getElementById('total-users').textContent = totalUsers;
        }
        
        function translateRole(role) {
            const roles = {
                'admin': 'Administrador',
                'editor': 'Editor',
                'moderator': 'Moderador',
                'contributor': 'Colaborador'
            };
            return roles[role] || role;
        }
        
        function translateStatus(status) {
            const statuses = {
                'active': 'Ativo',
                'inactive': 'Inativo',
                'pending': 'Pendente'
            };
            return statuses[status] || status;
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR') + ' ' + date.toLocaleTimeString('pt-BR', {hour: '2-digit', minute: '2-digit'});
        }
        
        function filterUsers() {
            // Implement user filtering logic
            console.log('Filtering users...');
        }
        
        function toggleAllUsers() {
            const checkboxes = document.querySelectorAll('.user-checkbox');
            const selectAll = document.getElementById('select-all-users');
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAll.checked;
            });
            
            updateBulkActions();
        }
        
        function updateBulkActions() {
            const selectedCheckboxes = document.querySelectorAll('.user-checkbox:checked');
            const bulkActions = document.getElementById('bulk-actions');
            const selectedCount = document.getElementById('selected-count');
            
            if (selectedCheckboxes.length > 0) {
                bulkActions.style.display = 'block';
                selectedCount.textContent = `${selectedCheckboxes.length} usu√°rios selecionados`;
            } else {
                bulkActions.style.display = 'none';
            }
        }
        
        function handleUserFormSubmit(e) {
            e.preventDefault();
            // Implement user creation/update logic with Firebase
            console.log('Saving user...');
        }
        
        function editUser(userId) {
            // Open user modal for editing
            console.log('Editing user:', userId);
        }
        
        function deleteUser(userId) {
            if (confirm('Tem certeza que deseja excluir este usu√°rio?')) {
                // Implement user deletion
                console.log('Deleting user:', userId);
            }
        }
        
        // Liturgical Calendar
        function initializeLiturgicalCalendar() {
            updateLiturgicalInfo();
        }
        
        function updateLiturgicalInfo() {
            const today = new Date();
            const dateElement = document.getElementById('today-date');
            const seasonElement = document.getElementById('liturgical-season');
            const colorElement = document.getElementById('liturgical-color');
            
            // Update date
            dateElement.textContent = today.toLocaleDateString('pt-BR', {
                weekday: 'long',
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            
            // Mock liturgical data - replace with real liturgical calendar API
            const mockReadings = {
                firstReading: 'Gn 1,1-2,2',
                psalm: 'Sl 103',
                secondReading: '', // Not always present
                gospel: 'Mt 1,1-17'
            };
            
            document.getElementById('first-reading').textContent = mockReadings.firstReading;
            document.getElementById('psalm-reading').textContent = mockReadings.psalm;
            document.getElementById('second-reading').textContent = mockReadings.secondReading || '-';
            document.getElementById('gospel-reading').textContent = mockReadings.gospel;
        }
        
        // Utility function
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        // Mobile Menu
        function initializeMobileMenu() {
            const mobileToggle = document.getElementById('mobile-menu-toggle');
            const sidebar = document.querySelector('.admin-sidebar');
            const overlay = document.createElement('div');
            overlay.className = 'mobile-backdrop';
            document.body.appendChild(overlay);
            
            mobileToggle.addEventListener('click', () => {
                sidebar.classList.toggle('mobile-open');
                overlay.classList.toggle('active');
                document.body.style.overflow = sidebar.classList.contains('mobile-open') ? 'hidden' : 'auto';
            });
            
            overlay.addEventListener('click', () => {
                sidebar.classList.remove('mobile-open');
                overlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
            
            // Close sidebar when clicking nav links on mobile
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth <= 1024) {
                        sidebar.classList.remove('mobile-open');
                        overlay.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    }
                });
            });
            
            // Close sidebar when window is resized to desktop
            window.addEventListener('resize', () => {
                if (window.innerWidth > 1024) {
                    sidebar.classList.remove('mobile-open');
                    overlay.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
        }
        
        // Settings Tabs
        function initializeSettingsTabs() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.getAttribute('data-tab');
                    
                    // Remove active class from all buttons and contents
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Add active class to clicked button and corresponding content
                    button.classList.add('active');
                    const targetContent = document.getElementById(targetTab + '-tab');
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }
                });
            });
        }
        
        // Media Upload
        function initializeMediaUpload() {
            const dropZone = document.getElementById('upload-drop-zone');
            const fileInput = document.getElementById('file-input');
            const uploadBtn = document.getElementById('upload-media-btn');
            
            if (!dropZone || !fileInput) return;
            
            // Click to upload
            dropZone.addEventListener('click', () => {
                fileInput.click();
            });
            
            if (uploadBtn) {
                uploadBtn.addEventListener('click', () => {
                    fileInput.click();
                });
            }
            
            // Drag and drop
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.classList.add('dragover');
            });
            
            dropZone.addEventListener('dragleave', () => {
                dropZone.classList.remove('dragover');
            });
            
            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('dragover');
                const files = e.dataTransfer.files;
                handleFileUpload(files);
            });
            
            // File input change
            fileInput.addEventListener('change', (e) => {
                const files = e.target.files;
                handleFileUpload(files);
            });
        }
        
        function handleFileUpload(files) {
            if (files.length === 0) return;
            
            console.log('Uploading files:', files.length);
            
            // Show upload progress
            const dropZone = document.getElementById('upload-drop-zone');
            const originalContent = dropZone.innerHTML;
            
            dropZone.innerHTML = `
                <div class="drop-zone-content">
                    <div class="loading-spinner"></div>
                    <h3>Fazendo upload...</h3>
                    <p>${files.length} arquivo(s) sendo enviado(s)</p>
                </div>
            `;
            
            // Simulate upload (replace with real Firebase Storage implementation)
            setTimeout(() => {
                dropZone.innerHTML = originalContent;
                alert(`${files.length} arquivo(s) enviado(s) com sucesso!`);
                
                // Update media stats
                updateMediaStats();
            }, 2000);
        }
        
        function updateMediaStats() {
            // Simulate media stats update
            document.getElementById('total-images').textContent = Math.floor(Math.random() * 50) + 10;
            document.getElementById('total-documents').textContent = Math.floor(Math.random() * 20) + 5;
            document.getElementById('total-size').textContent = (Math.random() * 100 + 50).toFixed(1) + ' MB';
        }
    </script>
    
    <!-- PWA Initialization -->
    <script>
        window.addEventListener('load', () => {
            console.log('üöÄ Inicializando PWA no painel administrativo...');
            console.log('‚úÖ PWA Admin inicializado!');
        });
    </script>
    <script src="js/disclaimer-manager.js" type="module" defer></script>
    <script src="js/darkmode.js" type="module" defer></script>
</body>
</html>
